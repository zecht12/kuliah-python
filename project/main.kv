#:import dp kivy.metrics.dp
#:import sp kivy.metrics.sp
#:import Window kivy.core.window.Window

<RegisterScreen>:
    name: "register"
    FloatLayout:
        canvas.before:
            Rectangle:
                source: "assets/login.png"
                pos: self.pos
                size: self.size

        Label:
            text: "NAMA"
            font_size: sp(14)
            font_name: "assets/font/luckiestguy.ttf"
            color: (1, 1, 1, 1)
            size_hint: None, None
            size: dp(100), dp(20)
            pos_hint: {"center_x": 0.5, "center_y": 0.60}

        TextInput:
            id: username_input
            hint_text: "Masukkan nama pengguna"
            font_size: sp(12)
            font_name: "assets/font/luckiestguy.ttf"
            hint_text_color: (1, 1, 1, 0.7)
            multiline: False
            background_normal: "assets/input.png"
            background_active: "assets/input.png"
            foreground_color: (1, 1, 1, 1)
            size_hint: None, None
            size: dp(min(Window.width * 0.45, 180)), dp(25)
            pos_hint: {"center_x": 0.5, "center_y": 0.56}

        Label:
            text: "PASSWORD"
            font_size: sp(14)
            font_name: "assets/font/luckiestguy.ttf"
            color: (1, 1, 1, 1)
            size_hint: None, None
            size: dp(100), dp(20)
            pos_hint: {"center_x": 0.5, "center_y": 0.52}

        TextInput:
            id: password_input
            hint_text: "Masukkan kata sandi"
            font_size: sp(12)
            font_name: "assets/font/luckiestguy.ttf"
            hint_text_color: (1, 1, 1, 0.7)
            multiline: False
            password: True
            background_normal: "assets/input.png"
            background_active: "assets/input.png"
            foreground_color: (1, 1, 1, 1)
            size_hint: None, None
            size: dp(min(Window.width * 0.45, 180)), dp(25)
            pos_hint: {"center_x": 0.5, "center_y": 0.48}

        BoxLayout:
            orientation: "horizontal"
            size_hint: None, None
            size: dp(min(Window.width * 0.45, 180)), dp(25)
            pos_hint: {"center_x": 0.5, "center_y": 0.43}

            Button:
                text: "Masuk"
                font_size: sp(12)
                font_name: "assets/font/luckiestguy.ttf"
                size_hint_x: None
                width: dp(80)
                background_color: (0, 0, 0, 0)
                color: (1, 1, 1, 1)
                on_release: app.root.current = "login"

        Button:
            text: "Daftar"
            font_size: sp(16)
            font_name: "assets/font/luckiestguy.ttf"
            size_hint: None, None
            size: dp(min(Window.width * 0.35, 140)), dp(60)
            pos_hint: {"center_x": 0.5, "center_y": 0.36}
            background_normal: "assets/BUTTON.png"
            background_down: "assets/BUTTON.png"
            on_release:
                root.register()

<LoginScreen>:
    name: "login"
    FloatLayout:
        canvas.before:
            Rectangle:
                source: "assets/login.png"
                pos: self.pos
                size: self.size

        Label:
            text: "NAMA"
            font_size: sp(14)
            font_name: "assets/font/luckiestguy.ttf"
            color: (1, 1, 1, 1)
            size_hint: None, None
            size: dp(100), dp(20)
            pos_hint: {"center_x": 0.5, "center_y": 0.60}

        TextInput:
            id: username_input
            hint_text: "Masukkan nama pengguna"
            font_size: sp(12)
            font_name: "assets/font/luckiestguy.ttf"
            hint_text_color: (1, 1, 1, 0.7)
            multiline: False
            background_normal: "assets/input.png"
            background_active: "assets/input.png"
            foreground_color: (1, 1, 1, 1)
            size_hint: None, None
            size: dp(min(Window.width * 0.45, 180)), dp(25)
            pos_hint: {"center_x": 0.5, "center_y": 0.56}

        Label:
            text: "PASSWORD"
            font_size: sp(14)
            font_name: "assets/font/luckiestguy.ttf"
            color: (1, 1, 1, 1)
            size_hint: None, None
            size: dp(100), dp(20)
            pos_hint: {"center_x": 0.5, "center_y": 0.52}

        TextInput:
            id: password_input
            hint_text: "Masukkan kata sandi"
            font_size: sp(12)
            font_name: "assets/font/luckiestguy.ttf"
            hint_text_color: (1, 1, 1, 0.7)
            multiline: False
            password: True
            background_normal: "assets/input.png"
            background_active: "assets/input.png"
            foreground_color: (1, 1, 1, 1)
            size_hint: None, None
            size: dp(min(Window.width * 0.45, 180)), dp(25)
            pos_hint: {"center_x": 0.5, "center_y": 0.48}

        BoxLayout:
            orientation: "horizontal"
            size_hint: None, None
            size: dp(min(Window.width * 0.45, 180)), dp(25)
            pos_hint: {"center_x": 0.5, "center_y": 0.43}

            Button:
                text: "Daftar"
                font_size: sp(12)
                font_name: "assets/font/luckiestguy.ttf"
                size_hint_x: None
                width: dp(80)
                background_color: (0, 0, 0, 0)
                color: (1, 1, 1, 1)
                on_release: app.root.current = "register"

        Button:
            text: "Masuk"
            font_size: sp(16)
            font_name: "assets/font/luckiestguy.ttf"
            size_hint: None, None
            size: dp(min(Window.width * 0.35, 140)), dp(60)
            pos_hint: {"center_x": 0.5, "center_y": 0.36}
            background_normal: "assets/BUTTON.png"
            background_down: "assets/BUTTON.png"
            on_release:
                root.login()

<HomePage>:
    name: "homepage"
    BoxLayout:
        orientation: "vertical"
        padding: dp(20)
        spacing: dp(10)
        canvas.before:
            Rectangle:
                source: "assets/homepage.png"
                pos: self.pos
                size: self.size

        BoxLayout:
            id: user_info_box
            orientation: "horizontal"
            size_hint_y: None
            height: dp(80)
            spacing: dp(2)
            padding: [dp(30), dp(20)]
            canvas.before:
                Rectangle:
                    source: "assets/nama.png"
                    pos: self.pos
                    size: self.size

            Label:
                id: name_label
                text: "NAMA"
                font_size: sp(18)
                font_name: "assets/font/luckiestguy.ttf"
                color: 1, 1, 1, 1
                size_hint_x: 0.5
                valign: "middle"
                halign: "left"
                text_size: self.size

            BoxLayout:
                orientation: "horizontal"
                size_hint_x: 0.1
                pos_hint: {"center_y": 0.5}
                spacing: dp(1)

                Image:
                    source: "assets/crown_icons.png"
                    size_hint: None, None
                    size: dp(30), dp(30)
                    pos_hint: {"center_y": 0.5}

                Label:
                    id: score_label
                    text: "200"
                    font_size: sp(18)
                    font_name: "assets/font/luckiestguy.ttf"
                    color: 1, 1, 1, 1
                    valign: "middle"
                    halign: "center"
                    text_size: self.size

        GridLayout:
            cols: 2
            spacing: dp(10)
            padding: dp(10)
            size_hint: None, None
            size: self.minimum_size
            pos_hint: {"center_x": 0.5, "center_y": 0.5}

            BoxLayout:
                id: level_1_box
                orientation: "vertical"
                size_hint: None, None
                size: dp(160), dp(200)
                canvas.before:
                    Rectangle:
                        source: "assets/Board_level.png"
                        pos: self.pos
                        size: self.size

                BoxLayout:
                    orientation: "vertical"
                    spacing: dp(5)
                    size_hint: None, None
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    size: dp(70), dp(140)

                    Image:
                        source: "assets/level-1.png"
                        size_hint: None, None
                        size: dp(60), dp(60)
                        pos_hint: {"center_x": 0.5, "center_y": 0.5}

                    Label:
                        text: "Level 1\nPenjumlahan"
                        font_size: sp(16)
                        font_name: "assets/font/luckiestguy.ttf"
                        color: 1, 1, 1, 1
                        halign: "center"
                        valign: "middle"

            BoxLayout:
                id: level_2_box
                orientation: "vertical"
                size_hint: None, None
                size: dp(160), dp(200)
                canvas.before:
                    Rectangle:
                        source: "assets/Board_level.png"
                        pos: self.pos
                        size: self.size

                BoxLayout:
                    orientation: "vertical"
                    spacing: dp(5)
                    size_hint: None, None
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    size: dp(70), dp(140)

                    Image:
                        source: "assets/level-2.png"
                        size_hint: None, None
                        size: dp(60), dp(60)
                        pos_hint: {"center_x": 0.5, "center_y": 0.5}

                    Label:
                        text: "Level 2\nPengurangan"
                        font_size: sp(16)
                        font_name: "assets/font/luckiestguy.ttf"
                        color: 1, 1, 1, 1
                        halign: "center"
                        valign: "middle"

            BoxLayout:
                id: level_3_box
                orientation: "vertical"
                size_hint: None, None
                size: dp(160), dp(200)
                canvas.before:
                    Rectangle:
                        source: "assets/Board_level.png"
                        pos: self.pos
                        size: self.size

                BoxLayout:
                    orientation: "vertical"
                    size_hint: None, None
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    size: dp(70), dp(140)

                    Image:
                        source: "assets/level-3.png"
                        size_hint: None, None
                        size: dp(60), dp(60)
                        pos_hint: {"center_x": 0.5, "center_y": 0.5}

                    Label:
                        text: "Level 3\nPerkalian"
                        font_size: sp(16)
                        font_name: "assets/font/luckiestguy.ttf"
                        color: 1, 1, 1, 1
                        halign: "center"
                        valign: "middle"

<ImageButton>:
    allow_stretch: True
    keep_ratio: False

<QuizPenjumlahanScreen>:
    name: "quiz_penjumlahan"
    BoxLayout:
        orientation: "vertical"
        padding: dp(20)
        spacing: dp(10)
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

        ImageButton:
            source: "assets/back.png"
            size_hint: None, None
            size: dp(30), dp(30)
            on_release: root.back_button_pressed()

        BoxLayout:
            orientation: "horizontal"
            size_hint_y: None
            height: dp(50)

            BoxLayout:
                orientation: "horizontal"
                size_hint_x: 0.5
                spacing: dp(5)

                Image:
                    source: "assets/stopwatch.png"
                    size_hint: None, None
                    size: dp(30), dp(30)

                BoxLayout:
                    orientation: "vertical"
                    size_hint: None, None
                    size: dp(100), dp(50)
                    pos_hint: {"center_x": 0.5, "center_y": 0.2}

                    Label:
                        id: timer_label
                        text: "0:10"
                        font_size: sp(20)
                        font_name: "assets/font/luckiestguy.ttf"
                        halign: "left"
                        valign: "middle"
                        color: (0.431, 0.184, 0.11, 1)
                        text_size: self.size

            BoxLayout:
                orientation: "horizontal"
                size_hint_y: None
                height: dp(50)
                padding: dp(0), dp(0), dp(10), dp(0)
                spacing: dp(5)

                Widget:
                    size_hint_x: 1

                Image:
                    source: "assets/crown_icons.png"
                    size_hint: None, None
                    size: dp(30), dp(30)
                    allow_stretch: True
                    keep_ratio: True

                Label:
                    id: score_label
                    text: "0"
                    font_size: sp(20)
                    font_name: "assets/font/luckiestguy.ttf"
                    size_hint: None, None
                    size: self.texture_size
                    valign: "middle"
                    halign: "left"
                    color: (0.431, 0.184, 0.11, 1)

        ProgressBar:
            id: progress_bar
            size_hint_y: None
            height: dp(20)
            max: 100
            value: 0

        Label:
            id: question_label
            text: "8 + 6 = ?"
            font_size: sp(28)
            font_name: "assets/font/luckiestguy.ttf"
            halign: "center"
            valign: "middle"
            color: (0.431, 0.184, 0.11, 1)
            text_size: self.size

        GridLayout:
            cols: 2
            spacing: dp(10)
            size_hint_y: None
            height: dp(420)

            Button:
                id: option_1
                text: "56"
                font_size: sp(24)
                background_normal_size: (dp(350), dp(200))
                background_down_size: (dp(350), dp(200))
                font_name: "assets/font/luckiestguy.ttf"
                background_normal: "assets/Board_Answer.png"
                background_down: "assets/Board_Answer.png"
                on_release: root.check_answer(self.text)

            Button:
                id: option_2
                text: "49"
                font_size: sp(24)
                background_normal_size: (dp(350), dp(200))
                background_down_size: (dp(350), dp(200))
                font_name: "assets/font/luckiestguy.ttf"
                background_normal: "assets/Board_Answer.png"
                background_down: "assets/Board_Answer.png"
                on_release: root.check_answer(self.text)

            Button:
                id: option_3
                text: "28"
                font_size: sp(24)
                background_normal_size: (dp(350), dp(200))
                background_down_size: (dp(350), dp(200))
                font_name: "assets/font/luckiestguy.ttf"
                background_normal: "assets/Board_Answer.png"
                background_down: "assets/Board_Answer.png"
                on_release: root.check_answer(self.text)

            Button:
                id: option_4
                text: "36"
                font_size: sp(24)
                background_normal_size: (dp(350), dp(200))
                background_down_size: (dp(350), dp(200))
                font_name: "assets/font/luckiestguy.ttf"
                background_normal: "assets/Board_Answer.png"
                background_down: "assets/Board_Answer.png"
                on_release: root.check_answer(self.text)

<QuizPenguranganScreen>:
    name: "quiz_pengurangan"
    BoxLayout:
        orientation: "vertical"
        padding: dp(20)
        spacing: dp(10)
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

        ImageButton:
            source: "assets/back.png"
            size_hint: None, None
            size: dp(30), dp(30)
            on_release: root.back_button_pressed()

        BoxLayout:
            orientation: "horizontal"
            size_hint_y: None
            height: dp(50)

            BoxLayout:
                orientation: "horizontal"
                size_hint_x: 0.5
                spacing: dp(5)

                Image:
                    source: "assets/stopwatch.png"
                    size_hint: None, None
                    size: dp(30), dp(30)

                BoxLayout:
                    orientation: "vertical"
                    size_hint: None, None
                    size: dp(100), dp(50)
                    pos_hint: {"center_x": 0.5, "center_y": 0.2}

                    Label:
                        id: timer_label
                        text: "0:10"
                        font_size: sp(20)
                        font_name: "assets/font/luckiestguy.ttf"
                        halign: "left"
                        valign: "middle"
                        color: (0.431, 0.184, 0.11, 1)
                        text_size: self.size

            BoxLayout:
                orientation: "horizontal"
                size_hint_y: None
                height: dp(50)
                padding: dp(0), dp(0), dp(10), dp(0)
                spacing: dp(5)

                Widget:
                    size_hint_x: 1

                Image:
                    source: "assets/crown_icons.png"
                    size_hint: None, None
                    size: dp(30), dp(30)
                    allow_stretch: True
                    keep_ratio: True

                Label:
                    id: score_label
                    text: "0"
                    font_size: sp(20)
                    font_name: "assets/font/luckiestguy.ttf"
                    size_hint: None, None
                    size: self.texture_size
                    valign: "middle"
                    halign: "left"
                    color: (0.431, 0.184, 0.11, 1)

        ProgressBar:
            id: progress_bar
            size_hint_y: None
            height: dp(20)
            max: 100
            value: 0

        Label:
            id: question_label
            text: "12 - 5 = ?"
            font_size: sp(28)
            font_name: "assets/font/luckiestguy.ttf"
            halign: "center"
            valign: "middle"
            color: (0.431, 0.184, 0.11, 1)
            text_size: self.size

        GridLayout:
            cols: 2
            spacing: dp(10)
            size_hint_y: None
            height: dp(420)

            Button:
                id: option_1
                text: "7"
                font_size: sp(24)
                font_name: "assets/font/luckiestguy.ttf"
                background_normal_size: (dp(350), dp(200))
                background_down_size: (dp(350), dp(200))
                background_normal: "assets/Board_Answer.png"
                background_down: "assets/Board_Answer.png"
                on_release: root.check_answer(self.text)

            Button:
                id: option_2
                text: "5"
                font_size: sp(24)
                font_name: "assets/font/luckiestguy.ttf"
                background_normal_size: (dp(350), dp(200))
                background_down_size: (dp(350), dp(200))
                background_normal: "assets/Board_Answer.png"
                background_down: "assets/Board_Answer.png"
                on_release: root.check_answer(self.text)

            Button:
                id: option_3
                text: "6"
                font_size: sp(24)
                font_name: "assets/font/luckiestguy.ttf"
                background_normal_size: (dp(350), dp(200))
                background_down_size: (dp(350), dp(200))
                background_normal: "assets/Board_Answer.png"
                background_down: "assets/Board_Answer.png"
                on_release: root.check_answer(self.text)

            Button:
                id: option_4
                text: "8"
                font_size: sp(24)
                font_name: "assets/font/luckiestguy.ttf"
                background_normal_size: (dp(350), dp(200))
                background_down_size: (dp(350), dp(200))
                background_normal: "assets/Board_Answer.png"
                background_down: "assets/Board_Answer.png"
                on_release: root.check_answer(self.text)

<QuizPerkalianScreen>:
    name: "quiz_perkalian"
    BoxLayout:
        orientation: "vertical"
        padding: dp(20)
        spacing: dp(10)
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

        ImageButton:
            source: "assets/back.png"
            size_hint: None, None
            size: dp(30), dp(30)
            on_release: root.back_button_pressed()

        BoxLayout:
            orientation: "horizontal"
            size_hint_y: None
            height: dp(50)

            BoxLayout:
                orientation: "horizontal"
                size_hint_x: 0.5
                spacing: dp(5)

                Image:
                    source: "assets/stopwatch.png"
                    size_hint: None, None
                    size: dp(30), dp(30)

                BoxLayout:
                    orientation: "vertical"
                    size_hint: None, None
                    size: dp(100), dp(50)
                    pos_hint: {"center_x": 0.5, "center_y": 0.2}

                    Label:
                        id: timer_label
                        text: "0:10"
                        font_size: sp(20)
                        font_name: "assets/font/luckiestguy.ttf"
                        halign: "left"
                        valign: "middle"
                        color: (0.431, 0.184, 0.11, 1)
                        text_size: self.size

            BoxLayout:
                orientation: "horizontal"
                size_hint_y: None
                height: dp(50)
                padding: dp(0), dp(0), dp(10), dp(0)
                spacing: dp(5)

                Widget:
                    size_hint_x: 1

                Image:
                    source: "assets/crown_icons.png"
                    size_hint: None, None
                    size: dp(30), dp(30)
                    allow_stretch: True
                    keep_ratio: True

                Label:
                    id: score_label
                    text: "0"
                    font_size: sp(20)
                    font_name: "assets/font/luckiestguy.ttf"
                    size_hint: None, None
                    size: self.texture_size
                    valign: "middle"
                    halign: "left"
                    color: (0, 0, 0, 1)

        ProgressBar:
            id: progress_bar
            size_hint_y: None
            height: dp(20)
            max: 100
            value: 0

        Label:
            id: question_label
            text: "3 x 4 = ?"
            font_size: sp(28)
            font_name: "assets/font/luckiestguy.ttf"
            halign: "center"
            valign: "middle"
            color: (0.431, 0.184, 0.11, 1)
            text_size: self.size

        GridLayout:
            cols: 2
            spacing: dp(10)
            size_hint_y: None
            height: dp(420)

            Button:
                id: option_1
                text: "12"
                font_size: sp(24)
                font_name: "assets/font/luckiestguy.ttf"
                background_normal_size: (dp(350), dp(200))
                background_down_size: (dp(350), dp(200))
                background_normal: "assets/Board_Answer.png"
                background_down: "assets/Board_Answer.png"
                on_release: root.check_answer(self.text)

            Button:
                id: option_2
                text: "9"
                font_size: sp(24)
                font_name: "assets/font/luckiestguy.ttf"
                background_normal_size: (dp(350), dp(200))
                background_down_size: (dp(350), dp(200))
                background_normal: "assets/Board_Answer.png"
                background_down: "assets/Board_Answer.png"
                on_release: root.check_answer(self.text)

            Button:
                id: option_3
                text: "10"
                font_size: sp(24)
                font_name: "assets/font/luckiestguy.ttf"
                background_normal_size: (dp(350), dp(200))
                background_down_size: (dp(350), dp(200))
                background_normal: "assets/Board_Answer.png"
                background_down: "assets/Board_Answer.png"
                on_release: root.check_answer(self.text)

            Button:
                id: option_4
                text: "11"
                font_size: sp(24)
                font_name: "assets/font/luckiestguy.ttf"
                background_normal_size: (dp(350), dp(200))
                background_down_size: (dp(350), dp(200))
                background_normal: "assets/Board_Answer.png"
                background_down: "assets/Board_Answer.png"
                on_release: root.check_answer(self.text)